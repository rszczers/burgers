\chapter{Płyn idealny} W tym rozdziale naszym celem jest opracowanie modelu fizycznego cieczy idealnej i uzasadnienie jej podstawowych równań ruchu.

\section{Pojęcia wstępne}
Zaczniemy od przypomnienia podstawowych pojęć w teorii rozmaitości gładkich. Niech \(M\) będzie rzeczywistą n-rozmaitością różniczkowalną klasy \(C^\infty\), \(p\) będzie dowolnym punktem rozmaitości \(M\) i niech \(U, V\subset M\) będą otoczeniami punktu \(p\). Powiemy, że dwie funkcje rzeczywiste \(f:U\to\R, g:V\to\R\) są \emph{równoważne}, jeśli w pewnym otoczeniu \(W\subset U\cap V\) punktu \(p\) są sobie równe. Pod pojęciem \textbf{kiełka} funkcji rzeczywistej klasy \(C^\infty\) w punkcie \(p\in M\) będziemy rozumieli każdą klasę równoważności tak zadanej relacji. Zbiór wszystkich kiełków w punkcie \(p\), \(C_p^\infty(M)\), jest wówczas \(\R\)-algebrą. Każde odwzorowanie liniowe \(D:C_p^\infty(M)\to\R\) spełniające warunek:
\begin{equation}
D(fg) = (Df)g(p) + f(Dg)(p)
\end{equation}
nazywamy \textbf{różniczkowaniem} w punkcie \(p\). Przestrzeń liniową wszystkich różniczkowań w punkcie \(p\) nazywamy \textbf{przestrzenią styczną} w \(p\) i oznaczamy przez \(T_p(M)\).

Niech \(\pi: E\to M\) będzie dowolnym odwzorowaniem między rozmaitościami \(E\) i \(M\). Przeciwobraz \(E_p = \pi^{-1}(p)\) punktu \(p\) nazywamy \textbf{włóknem} w \(p\). Niech \(\pi': E'\to M\) będzie odwzorowaniem rozmaitości \(E'\) i \(M\). Powiemy, że odwzorowanie \(\phi:E\to E'\) \textbf{zachowuje włókna}, jeśli \(\phi(E_p)\subset E'_p\) dla każdego \(p\in M\). Jeśli \(\pi\) jest surjekcją klasy \(C^\infty\) oraz
\begin{enumerate}[i)]
\item każde włókno \(\pi^{-1}(p)\) ma strukturę n-wymiarowej przestrzeni wektorowej,
\item dla każdego \(p\in M\) istnieje otoczenie \(U\in M\) punktu \(p\) i zachowujący włókna dyfeomorfizm \(\phi: \pi^{-1}(U)\to U \R^r\) taki, że dla każdego \(q\in U\) zawężenie
\begin{equation*}
\left.\phi\right|_{\pi^{-1}(q)}:\pi^{-1}(q)\to {q} \times \R^r
\end{equation*}
\end{enumerate}
wówczas \(\pi\) określamy odwzorowaniem \emph{lokalnie trywialnym rzędu r}.
Wówczas trójkę \((E, M, \pi)\) nazywamy \textbf{wiązką wektorową} klasy \(C^\infty\) rzędu \(r\). Nadużywając notacji często zamiast odnosić się bezpośrednio do tak zdefiniowanej trójki, będziemy mówili o \emph{wiązce wektorowej} \(E\) albo \emph{wiązce wektorowej} \(\pi:E\to M\).
Szczególnie interesującym nas obiektem tej kategorii jest trójka \((TM, M, \pi)\), gdzie 
\begin{equation*}
TM := \bigcup\limits_{p\in M} T_p M
\end{equation*}
oraz \(\pi: TM \ni v \mapsto p\in M\) jest naturalną projekcją. Jeśli \(M\) jest n-rozmaitością klasy \(C^k\), to tak zdefiniowana wiązka styczna \(TM\) okazuje się \(2n\)-rozmaitością klasy \(C^{k-1}\).

Niech \(N,\,M\) będą rozmaitościami różniczkowalnymi i \(F:N\to M\) gładkim odwzorowaniem między nimi. Wówczas dla każdego \(p\in M\) określamy odwzorowanie liniowe między przestrzeniami stycznymi 
\begin{equation}
F_{\ast, p}:T_p N\rightarrow T_{F(p)}M, 
\end{equation}
które nazywamy \textbf{różniczką} \(F\) w \(p\in N\). Jeśli \(X_p\in T_p N\) jest wektorem stycznym do \(M\) w \(p\), wówczas dla dowolnego kiełka \(f\in C_{F(p)}^\infty(M)\) funkcji w \(F(p)\) 
\begin{equation}
(F_{\ast, p} (X_p))f = X_p(f\circ F) \in \R.
\end{equation} 
gdzie \(F_{\ast, p} (X_p)\) jest wektorem stycznym do \(N\) w \(F(p)\). Jeśli \(F\) jest dyfeomorfizmem, zaś \(X\) -- polem wektorowym na \(M\), odwzorowanie \(F_\ast \circ X \circ F^{-1}\) nazywamy \textbf{popchnięciem} pola wektorowego \(X\) i przez \(F\). Dualnie, jeśli \(f\in C_p^\infty(M)\) określamy \textbf{cofnięcie} \(F^\ast f := F\circ f\) funkcji \(f\) przez \(F\).

Niech \(X\) będzie polem wektorowym klasy \(C^r\) na \(M\) i niech \((U, \varphi) = (U, x^1, x^2, \dots, x^n)\) będzie mapą wokół \(p\in M\). Wówczas \(X_p = \sum_{j=1}^{n}a_j(p)\left.\frac{\partial}{\partial x^j}\right|_p\) jest wektorem stycznym w p, gdzie \(a_j\in C^r(M)\) są kiełkami funkcji klasy \(C^r\) w \(p\). Popchnięcie \(X\) przez \(\varphi\), czyli funkcję wektorową \(\mathbf{X} = \varphi_{\ast}\circ X(\varphi^{-1}): \R^n \supset \varphi(U)\ni p \mapsto \left[a_j(p)\right]_{j=1}^n\in \R^n\) nazywamy \textbf{lokalną reprezentacją} X.

\begin{figure}[!h]
\centering
\begin{tikzpicture}
  \matrix (m) [matrix of math nodes,row sep=3em,column sep=4em,minimum width=2em]
  {
     M\supset U & \varphi(U)\subset \R^n \\
     TU & T\R^n \cong \R^n \\};
  \path[-stealth]
    (m-1-1) edge node [left] {\(X\)} (m-2-1)
    (m-1-1) edge node [above] {\(\varphi\)} (m-1-2)
    (m-1-2) edge node [right] {\(\mathbf{X}\)} (m-2-2)
    (m-2-1) edge node [above] {\(\varphi_{\ast}\)} (m-2-2);
\end{tikzpicture}
\end{figure}

Chwilą \(t\in\R\) będziemy nazywać zmienną czasową. \textbf{Polem wektorowym zależnym od czasu} klasy \(C^r\) na \(M\) nazywamy odwzorowanie \(X:\R\times M\rightarrow TM\) takie, że \(X_t(m):=X(t,\,m) \in T_{m} M\) jest wektorem stycznym w \(m\) w chwili \(t\) dla wszytkich par \((t, m) \in \R \times M\). Przez \(X_t\in \mathfrak{X}^r(M)\) oznaczamy pole wektorowe na \(M\) w chwili \(t\), gdzie \(\mathfrak{X}^r(M)\) to zbiór wszystkich pól wektorowych klasy \(C^r\) na \(M\). 

\textbf{Trajektorią} (także: linią przepływu, krzywą całkową) pola wektorowego \(X\) w punkcie \(m\in M\) nazywamy krzywą \(c: \R \supset I \rightarrow M\) o początku w \(m\), taką, że \(c'(t) = X_{c(t)}\) dla każdego \(t\in I\). Jeśli \((U, \varphi) = (U, x^1, x^2, \dots, x^n)\) jest mapą wokół \(c(0)=p\) i \([X^1, X^2, \dots, X^n]^T\) jest lokalną reprezentacją \(X\), funkcja wektorowa \(\mathbf{c} = \varphi \circ c, I \ni t \mapsto \left[c^i(t)\right]_{i=1}^m \in \R^n\) jest lokalną reprezentacją krzywej \(c\) oraz spełniony jest układ równań różniczkowch pierwszego rzędu nazywany układem charakterystyk
\begin{align*}
    \frac{dc}{dt}^1(t) &= X^1\left(c^1(t), c^2(t), \dots, c^n(t)\right),\\
    \frac{dc}{dt}^2(t) &= X^2\left(c^1(t), c^2(t), \dots, c^n(t)\right),\\
    &\mathrel{\makebox[\widthof{=}]{\vdots}}  \\
    \frac{dc}{dt}^n(t) &= X^n\left(c^1(t), c^2(t), \dots, c^n(t)\right).
\end{align*}
\textbf{Prędkością} \(c'(t_0)\) \textbf{krzywej} \(c\) w chwili \(t\in]a, b[\) nazywamy wektor styczny
\begin{equation}
c'(t_0) = c_\ast\left(\left.\frac{d}{dt}\right|_{t_0}\right)\in T_{c(t_0)}M,
\end{equation}
Zachodzą następujące twierdzenia
\begin{twierdzenie}
Niech \(X_p\) będzie wektorem stycznym w punkcie \(p\) rozmaitości \(M\) i niech \(f\in C_p^\infty(M)\) będzie kiełkiem funkcji \(C^\infty\) w \(p\). Jeśli \(c:\:]-\varepsilon,\varepsilon[\rightarrow M\) jest gładką krzywą o początku w \(p\) taką, że \(c'(0)=X_p\), wówczas
\begin{equation}
X_pf=\left.\frac{d}{dt}\right|_0(f\circ c).
\end{equation}
\end{twierdzenie}
\begin{twierdzenie}
Niech \(F: N\to M\) będzie gładkim odwzorowaniem między rozmaitościami, \(p\in N\), \(X_p\in T_p N\). Jeśli \(c\) jest gładką krzywą o początku w \(p\) i jej prędkość w \(p\) to \(X_p\), wówczas
\begin{equation}
F_{\ast, p} (X_p) = \left.\frac{d}{dt}\right|_0(F\circ c)(t).
\end{equation}
Czyli popchnięcie prędkości \(X_p\) przez \(F\) jest wektorem prędkości krzywej \(F\circ c\) w \(M\).
\end{twierdzenie}

Przez \(\mathcal{D}_X\) oznaczmy wszystkie pary \((m, t)\in M \times \R\) dla których istnieje trajektoria \(c: I\rightarrow M\) pola wektorowego \(X\) w punkcie \(m\) i zmienna czasowa \(t\) zawiera się w pewnym przedziale \(I\). Mówimy, że pole wektorowe jest \textbf{zupełne}, jeśli \(\mathcal{D}_X = M \times \R\). Oznacza to, że dla każdego punktu na rozmaitości znajdziemy trajektorię cząsteczki próbnej poruszającej się dowolnie długo. Zbiór wszystkich punktów rozmaitości na których pole wektorowe nie znika, \(\mathrm{Supp}\,X=\{m\in M\:|\: X_m\neq 0\}\), nazywamy \textbf{nośnikiem} pola wektorowego X. 

Zachodzą następujące twierdzenia

\begin{twierdzenie}\label{tw:D}
Niech \(X\) będzie polem wektorowym na \(M\) klasy \(C^r,\, r\geq1\). Wówczas
\begin{enumerate}[i)]
\item \(\mathcal{D}_X\supset M\times \{0\}\),
\item \(\mathcal{D}_X\) jest otwarty w \(M\times \R\),
\item istnieje jednoznacznie wyznaczone odwzorowanie \(F_X:\mathcal{D}_X\rightarrow M\) takie, że krzywa \(t\mapsto F_X(m,t)\) jest trajektorią w \(m\) dla wszystkich \(m\in M\),
\item dla \((m,t)\in \mathcal{D}_X,\) \(F_X(m,t),\, s)\in\mathcal{D}_X\) wtedy i tylko wtedy, gdy \((m, t+s)\in \mathcal{D}_X\).
\end{enumerate}
\end{twierdzenie}  

\begin{twierdzenie}
Każde pole wektorowe klasy \(C^r\) na zwartej rozmaitości \(M\) jest zupełne.
\end{twierdzenie}

Określone w Twierdzeniu \ref{tw:D} odwzorowanie \(F_X\) nazywamy \textbf{całką} \(X\), zaś trajektorię \(t\rightarrow F_X(m,t)\) \textbf{maksymalną krzywą całkową} \(X\) w \(m\). Jeśli pole wektorowe \(X\) jest zupełne, \(F_X\) nazywamy \textbf{przepływem} pola wektorowego \(X\). Każdy przepływ \(F\) określa 1-parametrową grupę dyfeomorfizmów \(\{F_t:\:M\rightarrow M\:|\: t\in \R\}\) z operacją składania \(F_{t_1}\circ F_{t_2} = F_{t_1 + t_2}\) dla \(t_{1}, {t}_2 \in \R\), gdzie \(F_0\) jest elementem neutralnym i \(F_{t}\circ F_{-t} = F_{0}\) dla dowolnego \(t\in\R\). Jeśli \(X\) jest polem wektorowym zależnym od czasu, wówczas analogicznie określamy \textbf{przepływ zależny od czasu} \(F_{t,s}\) pola \(X\) dla którego odwzorowanie \(t\mapsto F_{t,s}(m)\) jest trajektorią \(X\) o początku w punkcie \(m\) i w chwili \(t=s\), czyli
\begin{align}
\frac{d}{dt}F_{t,s}(m) = X\left(t, F_{t,s}(m)\right), &\quad F_{s,s}(m) = m.
\end{align} 
Wówczas działanie składania staje się przechodnie, \(F_{t,s}\circ F_{s,r} = F_{s, r}\), a \(F_{t, t}\) jest jego elementem neutralnym. 

%Pojęcia pola wektorowego, przepływu i trajektorii wiąże następujące twierdzenie
%
%\begin{twierdzenie}[O lokalnym istnieniu gładkiego przepływu]
%Niech \((U, \varphi)\) będzie mapą wokół \(p\in M\) i niech \(X\) będzie polem wektorowym klasy \(C^\infty\) na \(U\). Wówczas dla każdego \(p_0\in U\) istnieje przepływ \(F:]-\varepsilon, \varepsilon[ \times V \rightarrow U\) klasy \(C^\infty\) dla pewnego otoczenia \(V\subset U\) i pewnego \(\varepsilon>0\) taki, że \(F_t\) jest trajektorią pola wektorowego \(X\) w \(p_0\), czyli
%\begin{align}
%\frac{\partial F}{\partial t}(t, q) = X_{F_t(q)}, &\quad F_0(p_0) = p_0,  
%\end{align}
%dla wszystkich \((t, q) \in ]-\varepsilon, \varepsilon[ \times V\)
%\end{twierdzenie}
%\begin{twierdzenie}[O lokalnym istnieniu gładkiego i jednoznacznego przepływu]
%    Niech \(U\) będzie otwartym podzbiorem \(\R^n\) i niech \(\mathbf{X}: U\times \R \rightarrow \R^n\) będzie lokalną reprezentacją pola wektorowego zależnego od czasu klasy \(C^r\,, r\geq 1\). Wówczas 
%    \begin{enumerate}[i)]
%        \item Dla dowolnego \(x_0\in U\) i chwili \(t\in \R\) istnieje trajektoria w \(x_0\),
%    \item Jeśli w punkcie i w tej samej chwili istnieją dwie różne trajektorie, to są identyczne na przecięciu swoich dziedzin,
%    \item Istnieje otoczenie \(U_0\) punktu \(p\in U\) oraz przepływ \(F: U_0 \times ]-a, a[ \rightarrow \R^n\) klasy \(C^r\) dla pewnego \(a>0\) takie, że krzywa \(c_u: \left]-a, a\right[\rightarrow \R^n\, c_u(t) = F(u, t)\) jest trajektorią w \(u\in \R^n\).
%\end{enumerate}
%\end{twierdzenie}
%Wówczas \(u(x, t)\) oznacza prędkość cząsteczki próbnej przechodzącej przez punkt \(x\in M\). 

Niech \(X,\,Y\in\mathfrak{X}(M)\) i \(F:]-\varepsilon, \varepsilon[\times U\rightarrow M\) będzie lokalnym przepływem pola wektorowego \(X\) w otoczeniu \(U\subset M\) punktu \(p\in M\). \textbf{Pochodną Liego} \(\mathcal{L}_X Y\) \textbf{pola wektorowego} \(Y\) względem \(X\) w \(p\) nazywamy wektor
\begin{equation}\label{eq:lie_vector}
\begin{split}
(\mathcal{L}_X Y)_p &= \lim_{t\to 0} \frac{F_{-t\ast}(Y_{F_t(p)})-Y_p}{t} =\\
                    &= \lim_{t\to 0} \frac{(F_{-t\ast}Y)_p - Y_p}{t} =\\
                    &= \left.\frac{d}{dt}\right|_{t = 0}(F_{-t\ast}Y)_p.
\end{split}
\end{equation} 
Jeśli \(\omega\) jest gładką k-formą na rozmaitości \(M\), to \textbf{pochodną Liego} \(\mathcal{L}_X \omega\) \textbf{k-formy} \(\omega\) względem \(X\) w \(p\in M\) nazywamy formę
\begin{equation}\label{eq:lie_form}
\begin{split}
(\mathcal{L}_X \omega)_p &= \lim_{t\to 0}\frac{F_t^{\ast}(\omega_{F_t(p)})-\omega_p}{t} =\\
						 &= \lim_{t\to 0}\frac{(F_t^{\ast}\omega)_p - \omega_p}{t} =\\
						 &= \left.\frac{d}{dt}\right|_{t=0}(F_t^{\ast}\omega)_p.
\end{split}
\end{equation}

Niech \((M, g)\) będzie zwartą, orientowalną \(n\)-rozmaitością Riemannowską z brzegiem i \(\mu \in \Omega^n(M)\) będzie formą objętości na \(M\). Przypomnijmy, że metryka Riemannowska \(g:\: M \rightarrow \Omega^2(M)\) to pole tensorowe \(\mathcal{T}_2^0(M)\) takie, że \(g_p \in T_m^{\ast} M \otimes T_p^{\ast} M\) dla \(p\in M\) jest iloczynem skalarnym określonym na przestrzeni stycznej \(T_p M\). \textbf{Formą objętości} na n-rozmaitości \(M\) nazywamy n-formę \(\mu\in\Omega^n(M)\) taką, że \(\mu(m)\neq 0\) dla wszystkich \(m\in M\). Mówimy, że \(M\) jest orientowalna, jeśli na \(M\) można określić formę objętości. 

Niech \(X\) będzie polem wektorowym na \(M\). Funkcję \(\mathrm{div}_\mu X \in C^\infty(M)\) taką, że 
\begin{equation}
\mathcal{L}_X \mu = (\mathrm{div}_\mu X) \mu
\end{equation}
nazywamy \textbf{dywergencją} \(X\). Mówimy, że \(X\) jest \textbf{nieściśliwy} (względem \(\mu\)), jeśli \(\mathrm{div}_\mu X = 0\).
